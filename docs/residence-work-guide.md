# 常駐勤務管理ガイド

## 概要

常駐人材の勤務管理システムでは、基本5時間の常駐勤務に加えて、個別ミーティングを申請できます。

## 常駐勤務の基本

### 固定5時間制
- すべての常駐勤務は**5時間固定**です
- 開始時刻を入力すると、終了時刻が自動計算されます
- 例: 10:00開始 → 15:00終了（自動）

### 記録される情報
- 常駐先クライアント名
- 開始時刻
- 終了時刻（自動計算）
- メモ（任意）

## 個別ミーティング

### ミーティング申請
各常駐企業で個別にミーティングを組むことができます。

#### 記録される情報
- クライアント先名
- 開始時刻
- 終了時刻
- 目的・内容（任意）

#### 複数ミーティング
- 1日に複数のミーティングを追加可能
- 各ミーティングは個別に管理されます

## 使い方

### 1. オフィス出勤表を開く
メニューから「オフィス出勤表」タブを選択します。

### 2. 表示モードを選択
- **日別表示**: スマートフォン向け、カード形式
- **週間表示**: PC向け、テーブル形式

### 3. 出勤予定を編集

#### 編集ボタンをクリック
メンバーカードまたはテーブルの「編集」ボタンをクリックすると、編集モーダルが開きます。

#### 常駐勤務を登録
1. 「常駐先クライアント」欄にクライアント名を入力
   - 例: 株式会社ABC
2. 「開始時刻」を選択
   - 例: 10:00
3. 終了時刻が自動表示されます
   - 例: 15:00（10:00 + 5時間）

#### ミーティングを追加
1. 「+ ミーティング追加」ボタンをクリック
2. ミーティングフォームが表示されます
3. 必須項目を入力：
   - クライアント先名
   - 開始時刻
   - 終了時刻
4. 任意項目：
   - 目的・内容（例: 月次報告会議）
5. 「ミーティングを追加」ボタンをクリック

#### ミーティングを削除
各ミーティングの右側にある🗑️ボタンをクリックすると削除できます。

#### 保存
すべての編集が完了したら「保存」ボタンをクリックします。

### 4. 表示の確認

#### 日別表示（カード形式）
各メンバーのカードに以下が表示されます：
- 🏢 常駐勤務
  - クライアント名
  - 時刻（例: 10:00 - 15:00 (5時間)）
- 📅 個別MTG (n件)
  - 各ミーティングの詳細

#### 週間表示（テーブル形式）
各セルに以下が表示されます：
- ステータスバッジ（🏢 出勤）
- 🏢 10:00〜（常駐開始時刻）
- 📅 MTG×2（ミーティング件数）

## データ保存

### LocalStorage
すべてのデータはブラウザのLocalStorageに保存されます。

### データ構造
```javascript
{
  id: 123456789,
  member_id: 1,
  member_name: "山田太郎",
  location_id: -1,
  location_name: "株式会社ABC",
  date: "2025-10-10",
  start_time: "10:00",
  end_time: null,
  notes: "メモ内容",
  meetings: [
    {
      id: "1234567890",
      clientName: "株式会社XYZ",
      startTime: "16:00",
      endTime: "17:00",
      purpose: "月次報告会議"
    }
  ],
  status: "提出済み",
  created_at: "2025-10-10T00:00:00.000Z",
  updated_at: "2025-10-10T00:00:00.000Z"
}
```

## トラブルシューティング

### Q: 終了時刻が表示されない
A: 開始時刻を入力すると自動計算されます。開始時刻が空の場合は表示されません。

### Q: ミーティングが追加できない
A: クライアント名、開始時刻、終了時刻はすべて必須項目です。すべて入力してください。

### Q: データが消えた
A: ブラウザのキャッシュをクリアするとLocalStorageのデータも消えます。定期的にCSVエクスポートでバックアップを取ることをお勧めします。

### Q: スマホで見づらい
A: 「日別表示」タブに切り替えてください。スマートフォン向けに最適化されたカードレイアウトになります。

## ベストプラクティス

### 1. 常駐勤務の登録
- 常駐先が決まったらすぐに登録
- クライアント名は正式名称を使用

### 2. ミーティングの事前登録
- ミーティングが決まったら事前に登録
- 目的を明確に記載すると後で見返しやすい

### 3. 定期的な確認
- 週の初めに週間表示で全体を確認
- 変更があればすぐに更新

### 4. データバックアップ
- 月末にCSVエクスポートでバックアップ
- 重要なデータは別途保存

## 今後の拡張予定

- [ ] ミーティングのリマインド機能
- [ ] カレンダー連携（Google Calendar、Outlook）
- [ ] 移動時間の自動計算
- [ ] 複数拠点間の移動記録
- [ ] レポート機能（月次サマリー）

## サポート

問題が発生した場合は、GitHubのIssuesにお問い合わせください。
